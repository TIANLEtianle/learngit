<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>scroll测试</title>
	<style>
	 * {
	 	padding: 0px;
	 	margin: 0px;
	 }
	  .main {
	  	width: 1000px;
	    margin: 0px auto;
	    margin-top: 10px;

	  }
	  .fixed {
	  	position: fixed;
	  	
	  	top: 0;
	  	left: 0;
	  }
	 li {
	 	float: left;
	 	margin: 10px;
	 	text-indent: 2em;
	 }
	</style>
</head>
<body>
	<div class = "top" id = "top">
	</div>
	<div id = "nav1">
	   <img src = "D:/Web/image/3.jpg" width = "300px">
	</div>
	<dr />
	<div class = "main">
		<img src = "D:/Web/image/1.jpg" width = "600px" height = "1000px">
	</div>
	<script>
		window.onload = function() {
			var top = document.getElementById("top");
			var height = top.offsetHeight;
			var nav = document.getElementById("nav1");
			var main = document.getElementById("main");

			window.onscroll = function() {
				if(scroll().top > height) {
					nav.className += " fixed";
					main.style.paddingTop = nav.offsetHeight + "px";
				}
				else {
                    nav.className = "";
                    main.style.paddingTop = 0;
				}
			}
		}

		function scroll() {  // 开始封装自己的scrollTop
    if (window.pageYOffset !== undefined) {  // ie9+ 高版本浏览器
        // 因为 window.pageYOffset 默认的是  0  所以这里需要判断
        return {
            left: window.pageXOffset,
            top: window.pageYOffset
        }
    }
    else if (document.compatMode === "CSS1Compat") {    // 标准浏览器   来判断有没有声明DTD
        return {
            left: document.documentElement.scrollLeft,
            top: document.documentElement.scrollTop
        }
    }
    return {   // 未声明 DTD
        left: document.body.scrollLeft,
        top: document.body.scrollTop
    }
}
	</script>
</body>
</html>