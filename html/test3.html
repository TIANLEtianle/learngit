<!DOCTYPE html>
<html>
    <head>
	   <meta charset="utf-8">
	   <title>HTML5拖放API之自定义拖放行为</title>
	   <style>
	     p {
		     width: 100px;
			 height: 100px;
			 background-color: lightblue;
			 float: left;
			 margin: 10px;
			 text-align: center;
		}
		div#container {
		     border: 1px solid;
			 width: 340px;
			 height: 100px;
			 clear: both;
			 margin: 10px;
			 text-align: center;
		}
	   </style>
	</head>
	<body>
	   <h3>HTML5拖放API之自定义拖放行为<h3>
	   <hr />
	   <p id = "test1" draggable="true" ondragstart="drag1(event)">
	       拖曳效果<br>move 
	   </p>
	   <p id="test2" draggable="true" ondragstart="drag2(event)">
	       拖曳效果<br>copy
	   </p>
	   <p id="test3" draggable="true" ondragstart="drag3(event)">
	       拖曳效果<br>link
	   </p>
	   <div id="container" ondragover="allowDrop(event)" ondrop="drop(event)">
	       可放置区域
	   </div>
	   <script>
	       function drag1(ev) {
		      var dataTrans = ev.dataTransfer;
			  dataTrans.effectAllowed = "move";
			  dataTrans.setData("text/plain",ev.target.id);
			}
			function drag2(ev) {
			  var dataTrans = ev.dataTransfer;
			  dataTrans.effectAllowed = "copy";
			  dataTrans.setData("text/plain",ev.target.id);
			}
			function drag3(ev) {
			  var dataTrans = ev.dataTransfer;
			  dataTrans.effectAllowed = "link";
			  dataTrans.setData("text/plain",ev.target.id);
			}
			function allowDrop(ev) {
			  ev.preventDefault();
			}
			
			function drop(ev) {
			  ev.preventDefault();
			  var id = ev.dataTransfer.getData("text");
			  var p = document.getElementById(id);
			  ev.target.appendChild(p);
			}
			
	   </script>
	 </body>
</html>